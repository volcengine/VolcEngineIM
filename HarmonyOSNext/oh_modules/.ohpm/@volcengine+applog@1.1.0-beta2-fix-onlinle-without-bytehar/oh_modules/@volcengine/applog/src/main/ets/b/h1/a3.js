import BaseEvent from "../h/i"; import { isEmpty } from "../k1/l1"; import { mapToRecord } from "../k1/r1"; export function dealMessage(a8, b8, c8) { let d8 = ""; b8 = r7(b8, c8); if (isEmpty(a8)) { d8 = b8; } else { d8 = `[${a8}] ${b8}`; } return d8; } export function dealErrMessage(v7, w7, x7, y7) { let z7 = ""; w7 = r7(w7, y7); if (isEmpty(v7)) { z7 = `${w7} Cause: ${x7.message}`; } else { if (x7) { z7 = `[${v7}] ${w7} Cause by:
      name: ${x7.name},
      message: ${x7.message},
      stack: ${x7.stack}`; } else { z7 = `[${v7}] ${w7} Cause: unknown`; } } return z7; } function r7(s7, t7) { for (let u7 of t7) { if (typeof u7 === "string" || typeof u7 === "number" || typeof u7 === "boolean") { s7 = s7.replace("{}", u7); } else if (u7 instanceof BaseEvent) { s7 = s7.replace("{}", JSON.stringify(u7.convertToJson())); } else if (u7 instanceof ArrayBuffer) { s7 = s7.replace("{}", `ArrayBuffer: ${u7.byteLength}`); } else if (u7 instanceof Map) { s7 = s7.replace("{}", JSON.stringify(mapToRecord(u7))); } else if (u7 instanceof Set) { s7 = s7.replace("{}", Array.from(u7).join(",")); } else if (typeof u7 === "undefined") { s7 = s7.replace("{}", "undefined"); } else if (u7 == null) { s7 = s7.replace("{}", "null"); } else { s7 = s7.replace("{}", JSON.stringify(u7)); } } return s7; } 