export const PATH_REGISTER = "/service/2/device_register/"; export const PATH_ACTIVE = "/service/2/app_alert_check/"; export const PATH_SEND = "/service/2/app_log/"; export const PATH_CONFIG = "/service/2/log_settings/"; export const PATH_AB = "/service/2/abtest_config/"; export const PATH_PROFILE = "/service/2/profile/"; export class URiConfig { constructor(r) { this.registerUri = r.getRegisterUri(); this.activeUri = r.getActiveUri(); this.sendUris = r.getSendUris(); this.settingUri = r.getSettingUri(); this.abTestUri = r.getAbTestUri(); this.profileUri = r.getProfileUri(); } getRegisterUri() { return this.registerUri; } getActiveUri() { return this.activeUri; } getSendUris() { return this.sendUris; } getSettingUri() { return this.settingUri; } getAbTestUri() { return this.abTestUri; } getProfileUri() { return this.profileUri; } } export class UriConfigBuilder { constructor() { this.registerUri = ""; this.activeUri = ""; this.sendUris = []; this.settingUri = ""; this.abTestUri = ""; this.profileUri = ""; } setRegisterUri(q) { this.registerUri = q; return this; } getRegisterUri() { return this.registerUri; } setActiveUri(p) { this.activeUri = p; return this; } getActiveUri() { return this.activeUri; } setSendUris(o) { this.sendUris = o; return this; } getSendUris() { return this.sendUris; } setSettingUri(n) { this.settingUri = n; return this; } getSettingUri() { return this.settingUri; } setAbTestUri(m) { this.abTestUri = m; return this; } getAbTestUri() { return this.abTestUri; } setProfileUri(l) { this.profileUri = l; return this; } getProfileUri() { return this.profileUri; } build() { return new URiConfig(this); } } export function createByDomain(h, i) { let j = new UriConfigBuilder(); j.setRegisterUri(h + PATH_REGISTER) .setActiveUri(h + PATH_ACTIVE) .setSettingUri(h + PATH_CONFIG) .setAbTestUri(h + PATH_AB) .setProfileUri(h + PATH_PROFILE); let k = [h + PATH_SEND]; if (i) { k = k.concat(i); } j.setSendUris(k); return j.build(); } 