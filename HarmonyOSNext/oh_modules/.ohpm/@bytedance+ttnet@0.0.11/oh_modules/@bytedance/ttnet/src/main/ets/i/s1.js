import { Response } from "../ttnet/a/b"; import { TTNetworkError } from "../ttnet/l"; import { TTJson } from "../ttnet/p/n1"; export class OhosResponseCallbackImpl { constructor(callback, call) { this.callback = callback; this.call = call; } onHeaderComplete(c8) { this.callback.onHeaderComplete(this.call.parseHeaders(c8.getHttpHeaders())); } onDataComplete(buffer) { this.callback.onDataComplete(buffer); } async onSucceed(z7) { try { let b8 = this.call.parseHeaders(z7.getHttpHeaders()); let response = new Response(this.call.getUrl(), z7.getStatusCode(), b8, "", this.call.getLodId(), ""); await this.call.processResponseAfterExecute(response); this.callback.onSucceed(response); } catch (error) { let a8 = new TTNetworkError(TTJson.stringify(error)); this.callback.onError(a8); } } onError(error) { this.callback.onError(error); } } 