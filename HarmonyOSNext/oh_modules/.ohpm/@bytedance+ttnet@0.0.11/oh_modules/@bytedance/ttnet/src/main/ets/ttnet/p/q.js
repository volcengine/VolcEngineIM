import { TTJson } from "./n1"; import { TTLogger } from "./l1"; export class JsonStorage { constructor(json) { try { if (typeof json === 'string') { this.innerStr = json; this.innerObj = TTJson.parse(this.innerStr); } else if (typeof json == 'object') { this.innerObj = json; this.innerStr = TTJson.stringify(this.innerObj); } } catch (e) { TTLogger.error(JsonStorage.TAG, `Failed to parse JSON string: ${e.message}`); } } getJsonString() { return this.innerStr || ""; } getJsonObject() { return this.innerObj; } } JsonStorage.TAG = JsonStorage.name; 